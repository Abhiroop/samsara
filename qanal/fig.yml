zookeeper:
  image: wurstmeister/zookeeper
  ports:
    - "2181:2181"

kafka:
  image: wurstmeister/kafka:0.8.1.1-1
  ports:
    - "9092:9092"
  links:
    - zookeeper:zk
  environment:
    #NOTE - use YOUR ip address
    KAFKA_ADVERTISED_HOST_NAME: 192.168.1.68
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock

elasticsearch1:
    image: dockerfile/elasticsearch
    ports:
     - "9200:9200"
     - "9300:9300"

influxdb:
  image: tutum/influxdb
  ports:
    - "8083:8083"
    - "8086:8086"
  environment:
    PRE_CREATE_DB: samsara

riemann:
  image: samsara/riemann
  ports:
    - "5555:5555"
  links:
    - influxdb:influxdb

grafana:
  image: tutum/grafana
  ports:
    - "8080:80"
  environment:
    HTTP_USER: admin
    HTTP_PASS: samsara
    INFLUXDB_PROTO: http 
    INFLUXDB_HOST: localhost 
    INFLUXDB_PORT: 8086
    INFLUXDB_NAME: samsara 
    INFLUXDB_USER: root
    INFLUXDB_PASS: root
    INFLUXDB_IS_GRAFANADB: "true"




#qanal:
#    image: samsara/qanal
#    links:
#     - zookeeper:zk
#     - elasticsearch1:els
